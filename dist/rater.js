define("moe/rater/1.0.0/rater",["./rater.css"],function(a,b,c){a("./rater.css");var d=a.resolve("./star.gif#");jQuery.fn.rater=function(a){return this.each(function(){var b={enabled:!0,url:"",method:"post",min:1,max:3,step:1,value:null,after_click:null,before_ajax:null,after_ajax:null,image:d,width:25,height:25};a&&jQuery.extend(b,a);var c=jQuery('<ul class="rater-star"></ul>');c.css("background-image","url("+b.image+")"),c.css("height",b.height),c.css("width",b.width*((b.max-b.min)/b.step+1));var e=jQuery('<li class="rater-star-item-current"></li>');if(e.css("background-image","url("+b.image+")"),e.css("height",b.height),e.css("width",0),e.css("z-index",b.max/b.step+1),b.value&&e.css("width",((b.value-b.min)/b.step+1)*b.width),c.append(e),b.enabled)for(var f=b.min;f<=b.max;f+=b.step)e=jQuery('<li class="rater-star-item"></li>'),e.attr("title",f),e.css("height",b.height),e.css("width",b.width*((f-b.min)/b.step+1)),e.css("z-index",(b.max-f)/b.step+1),e.css("background-image","url("+b.image+")"),c.append(e);b.enabled&&c.mouseover(function(){jQuery(this).find(".rater-star-item-current").hide()}).mouseout(function(){jQuery(this).find(".rater-star-item-current").show()}),c.find(".rater-star-item").mouseover(function(){jQuery(this).attr("class","rater-star-item-hover")}).mouseout(function(){jQuery(this).attr("class","rater-star-item")}).click(function(){jQuery(this).prevAll(".rater-star-item-current").css("width",jQuery(this).width());var a=(b.max-b.min)/b.step+1,c=jQuery(this).width()/b.width,d=b.min+(c-1)*b.step,e={value:d,number:c,count:a,min:b.min,max:b.max};"function"==typeof b.after_click&&b.after_click(e,jQuery(this)),b.url&&jQuery.ajax({data:e,type:b.method,url:b.url,beforeSend:function(){"function"==typeof b.before_ajax&&b.before_ajax(e)},success:function(a){"function"==typeof b.after_ajax&&b.after_ajax(a)}})}),jQuery(this).html(c)})},c.exports=jQuery}),define("moe/rater/1.0.0/rater.css",[],function(){seajs.importStyle(".rater-star{position:relative;list-style:none;margin:0;padding:0;background-repeat:repeat-x;background-position:left top}.rater-star-item,.rater-star-item-current,.rater-star-item-hover{position:absolute;top:0;left:0;background-repeat:repeat-x}.rater-star-item{background-position:-100% -100%}.rater-star-item-hover{background-position:left bottom;cursor:pointer}.rater-star-item-current{background-position:left center}")});
