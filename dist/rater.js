define("moe/rater/1.1.0/rater",["./rater.css","$"],function(a,b,c){a("./rater.css");var d=a.resolve("./star.png#"),e=a("$");e.fn.prevAll=e.fn.prevAll||function(a){for(var b=e(),c=this.prev();c.length;)("undefined"==typeof a||c.is(a))&&(b=b.add(c)),c=c.prev();return b},e.fn.rater=function(a){return this.each(function(){var b={enabled:!0,url:"",method:"post",min:1,max:3,step:1,value:null,after_click:null,before_ajax:null,after_ajax:null,image:d,width:25,height:25};a&&e.extend(b,a);var c=e('<ul class="rater-star"></ul>');c.css("background-image","url("+b.image+")"),c.css("height",b.height),c.css("width",b.width*((b.max-b.min)/b.step+1));var f=e('<li class="rater-star-item-current"></li>');if(f.css("background-image","url("+b.image+")"),f.css("height",b.height),f.css("width",0),f.css("z-index",b.max/b.step+1),b.value&&f.css("width",((b.value-b.min)/b.step+1)*b.width),c.append(f),b.enabled)for(var g=b.min;g<=b.max;g+=b.step)f=e('<li class="rater-star-item"></li>'),f.attr("title",g),f.css("height",b.height),f.css("width",b.width*((g-b.min)/b.step+1)),f.css("z-index",(b.max-g)/b.step+1),f.css("background-image","url("+b.image+")"),c.append(f);b.enabled&&c.mouseover(function(){e(this).find(".rater-star-item-current").hide()}).mouseout(function(){e(this).find(".rater-star-item-current").show()}),c.find(".rater-star-item").mouseover(function(){e(this).attr("class","rater-star-item-hover")}).mouseout(function(){e(this).attr("class","rater-star-item")}).click(function(){e(this).prevAll(".rater-star-item-current").css("width",e(this).width());var a=(b.max-b.min)/b.step+1,c=e(this).width()/b.width,d=b.min+(c-1)*b.step,f={value:d,number:c,count:a,min:b.min,max:b.max};"function"==typeof b.after_click&&b.after_click(f,e(this)),b.url&&e.ajax({data:f,type:b.method,url:b.url,beforeSend:function(){"function"==typeof b.before_ajax&&b.before_ajax(f)},success:function(a){"function"==typeof b.after_ajax&&b.after_ajax(a)}})}),e(this).html(c)})},c.exports=e}),define("moe/rater/1.1.0/rater.css",[],function(){seajs.importStyle(".rater-star{position:relative;list-style:none;margin:0;padding:0;background-repeat:repeat-x;background-position:left top}.rater-star-item,.rater-star-item-current,.rater-star-item-hover{position:absolute;top:0;left:0;background-repeat:repeat-x}.rater-star-item{background-position:-100% -100%}.rater-star-item-hover{background-position:left bottom;cursor:pointer}.rater-star-item-current{background-position:left center}")});
